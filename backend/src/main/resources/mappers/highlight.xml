<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ssafy.backend.mapper.HighlightMapper">
    <insert id="save" parameterType="HighlightDto">
        INSERT INTO highlight (highlight_content, highlight_page, highlight_cover, book_isbn, user_id, is_public)
        VALUES (#{highlightContent}, #{highlightPage}, #{highlightCover}, #{bookIsbn}, #{userId}, #{isPublic})
    </insert>

    <select id="findAllByUserId" resultType="HighlightDto">
        SELECT highlight_id highlightId, highlight_content highlightContent,
               highlight_page highlightPage, highlight_cover highlightCover,
               book_isbn bookIsbn, user_id userId, created_date createdDate,
               updated_date updatedDate, is_public isPublic
        FROM highlight
        WHERE user_id = #{userId}
    </select>
</mapper>